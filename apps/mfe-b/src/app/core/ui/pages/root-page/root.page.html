<app-base-layout-b>
  <div class="mfe-container mfe-b-container">
    <mat-card class="info-card">
      <mat-card-header>
        <mat-icon mat-card-avatar>extension</mat-icon>
        <mat-card-title>{{ mfeName }} ‚Äî Local Theme</mat-card-title>
        <mat-card-subtitle>EXPERIMENT 02: {{ themeType }}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <p class="experiment-info">
          <strong>üî¨ Experiment 02 ‚Äî Local Theme Compilation</strong><br />
          This MFE compiles its OWN Angular Material theme. It does NOT depend on the shell.
          However, Angular Material generates GLOBAL CSS that cannot be scoped.
        </p>

        <div class="theme-info">
          <h3>Theme Configuration ‚Äî Custom Brand</h3>

          <p class="color-indicator" [style.background]="expectedPrimaryColor">
            Expected Primary: {{ expectedPrimaryColor }} (Deep Slate Blue)
          </p>

          <p class="color-indicator" [style.background]="expectedAccentColor">
            Expected Accent: {{ expectedAccentColor }} (Bright Cyan)
          </p>

          <p class="mode-indicator">Density: -1 (compact)</p>
        </div>

        <div class="form-section">
          <h3>Material Form Components (Theme Demonstration)</h3>

          <mat-form-field appearance="fill">
            <mat-label>Username</mat-label>
            <input matInput [(ngModel)]="userName" placeholder="Enter your name" />

            <mat-icon matSuffix>person</mat-icon>
            <mat-hint>Form field should have Deep Slate Blue styling</mat-hint>
          </mat-form-field>

          <mat-form-field appearance="fill" class="full-width">
            <mat-label>Priority</mat-label>

            <mat-select [(ngModel)]="selectedPriority">
              @for (priority of priorities; track priority.value) {
                <mat-option [value]="priority.value">
                  {{ priority.label }}
                </mat-option>
              }
            </mat-select>

            <mat-hint>Dropdown should use Deep Slate Blue theme colors</mat-hint>
          </mat-form-field>

          <!-- Slider to demonstrate accent color -->
          <mat-slider min="0" max="100" step="1" showTickMarks discrete>
            <input matSliderThumb [(ngModel)]="sliderValue" />
          </mat-slider>
          <p>Slider value: {{ sliderValue }} (track should be Bright Cyan)</p>

          <!-- Checkbox to demonstrate primary color -->
          <mat-checkbox [(ngModel)]="checkboxValue" color="primary">
            Checkbox (should be Deep Slate Blue when checked)
          </mat-checkbox>
        </div>

        <div class="action-section">
          <h3>Action Buttons (Theme Demonstration)</h3>

          <div class="button-row">
            <button mat-raised-button color="primary">
              <mat-icon>save</mat-icon>
              Primary (Violet)
            </button>

            <button mat-raised-button color="accent">
              <mat-icon>edit</mat-icon>
              Accent (Coral)
            </button>

            <button mat-raised-button color="warn">
              <mat-icon>delete</mat-icon>
              Warn (Orange)
            </button>
          </div>

          <div class="button-row">
            <button mat-fab color="primary">
              <mat-icon>add</mat-icon>
            </button>

            <button mat-mini-fab color="accent">
              <mat-icon>favorite</mat-icon>
            </button>

            <button mat-mini-fab color="warn">
              <mat-icon>warning</mat-icon>
            </button>
          </div>
        </div>

        <div class="isolation-test">
          <h3>Global Side Effect Indicators</h3>

          <p class="warning-text">
            ‚ö†Ô∏è With lazy-loaded routing, navigating between MFEs reloads each BaseLayout component,
            re-injecting the correct theme. The theme collision problem would occur if multiple MFEs
            were loaded SIMULTANEOUSLY (e.g., in a multi-outlet layout or tabs). In route-based
            navigation, the last-loaded MFE's theme always wins ‚Äî which is the current MFE.
          </p>
        </div>
      </mat-card-content>

      <mat-card-actions align="end">
        <button mat-button color="primary">
          <mat-icon>info</mat-icon>
          MFE-B Info
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</app-base-layout-b>
